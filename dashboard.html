<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Huntington Bank Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f5f5f5;
            color: #333;
            font-family: 'Arial', sans-serif;
        }

        .navbar {
            background-color: #006400;
            /* Dark green */
            padding: 10px 20px;
        }

        .navbar-brand {
            color: white;
            font-size: 1.5em;
        }

        .nav-tabs {
            background-color: #006400;
            border-bottom: none;
        }

        .nav-link {
            color: white !important;
            margin-right: 10px;
            border: none;
        }

        .nav-link.active {
            background-color: #ffffff;
            color: #006400 !important;
            border-radius: 5px;
        }

        .account-card,
        .tab-content-section {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }

        .balance {
            font-size: 1.5em;
            font-weight: bold;
        }

        .transactions-table {
            margin-top: 20px;
            overflow-x: auto;
            /* Enable horizontal scrolling on small screens */
        }

        .table-responsive {
            min-height: 0.01%;
            /* Ensure responsiveness */
            overflow-x: auto;
            /* Horizontal scroll for small screens */
        }

        .table th,
        .table td {
            vertical-align: middle;
            white-space: nowrap;
            /* Prevent text wrapping */
            padding: 8px;
            /* Adjust padding for better spacing */
        }

        .logout-button {
            background-color: #dc3545;
            color: white;
            margin-top: 20px;
        }

        .hidden {
            display: none;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .alert {
            margin-top: 10px;
        }

        @media (max-width: 768px) {

            .table th,
            .table td {
                font-size: 14px;
                /* Smaller font size on mobile */
                padding: 6px;
                /* Reduced padding on mobile */
            }

            .nav-link {
                font-size: 14px;
                /* Adjust nav link size for mobile */
            }

            .account-card,
            .tab-content-section {
                padding: 15px;
                /* Reduce padding on mobile */
            }
        }
    </style>
</head>

<body>
    <header>
        <nav class="navbar">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <i class="fas fa-university"></i> Rigor Gate Bank
                </a>
            </div>
        </nav>
        <div class="container mt-2">
            <p id="welcomeMessage">Welcome, <span id="userName"></span> <small id="currentDateTime"></small></p>
            <ul class="nav nav-tabs" id="mainTabs">
                <li class="nav-item">
                    <a class="nav-link active" data-tab="accounts">Accounts</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-tab="transfer">Transfer</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-tab="paybills">Pay Bills</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-tab="deposit">Deposit</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-tab="withdraw">Withdraw</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-tab="me">Me</a>
                </li>
            </ul>
            <ul class="nav nav-tabs mt-2">
                <li class="nav-item">
                    <a class="nav-link" data-tab="statements">Statements</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-tab="spending">Spending Analysis</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-tab="alerts">Alerts</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-tab="security">Security</a>
                </li>
            </ul>
        </div>
    </header>

    <main class="container">
        <!-- Accounts Tab -->
        <div id="accounts" class="tab-content-section">
            <div class="account-card">
                <h4>Rigor GateChecking (****6789)</h4>
                <p><strong>Initial Deposit Required:</strong> $5,000.00</p>
                <p><strong>Deposit Made:</strong> $3,500.00</p>
                <p><strong>Available Balance</strong></p>
                <p class="balance" id="availableBalance">$3,500.00</p>
                <p><strong>Current Balance</strong></p>
                <p class="balance" id="currentBalance">$3,500.00</p>
            </div>

            <div class="pending-transactions">
                <h4>Pending Transactions</h4>
                <p><strong>Pending Amount:</strong> $520,000.00 (Processing)</p>
            </div>

            <div class="transactions-table">
                <h4>Transaction History</h4>
                <div class="table-responsive"> <!-- Added responsive wrapper -->
                    <table class="table table-striped" id="transactionsTable">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Description</th>
                                <th>Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Transactions will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Transfer Tab -->
        <div id="transfer" class="tab-content-section hidden">
            <h4>Transfer Funds</h4>
            <form id="transferForm">
                <div class="form-group">
                    <label for="recipientName">Recipient Name:</label>
                    <input type="text" class="form-control" id="recipientName" placeholder="Enter recipient name"
                        required>
                </div>
                <div class="form-group">
                    <label for="bankName">Bank Name:</label>
                    <select class="form-control" id="bankName" required>
                        <option value="">Select a bank</option>
                        <option value="Bank of America">Bank of America</option>
                        <option value="Chase">Chase</option>
                        <option value="Wells Fargo">Wells Fargo</option>
                        <option value="Citibank">Citibank</option>
                        <option value="US Bank">US Bank</option>
                        <option value="PNC Bank">PNC Bank</option>
                        <option value="TD Bank">TD Bank</option>
                        <option value="Capital One">Capital One</option>
                        <option value="Fifth Third Bank">Fifth Third Bank</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="routingNumber">Routing Number:</label>
                    <input type="text" class="form-control" id="routingNumber"
                        placeholder="Enter 9-digit routing number" pattern="\d{9}" required>
                </div>
                <div class="form-group">
                    <label for="accountNumber">Account Number:</label>
                    <input type="text" class="form-control" id="accountNumber" placeholder="Enter account number"
                        required>
                </div>
                <div class="form-group">
                    <label for="accountType">Account Type:</label>
                    <select class="form-control" id="accountType" required>
                        <option value="">Select account type</option>
                        <option value="Checking">Checking</option>
                        <option value="Savings">Savings</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transferAmount">Amount:</label>
                    <input type="number" class="form-control" id="transferAmount" placeholder="Enter amount" min="1"
                        required>
                </div>
                <div class="form-group">
                    <label for="memo">Memo (Optional):</label>
                    <input type="text" class="form-control" id="memo" placeholder="Enter memo or description">
                </div>
                <button type="submit" class="btn btn-primary">Transfer</button>
            </form>
            <div id="transferAlert" class="alert hidden"></div>
        </div>

        <!-- Pay Bills Tab -->
        <div id="paybills" class="tab-content-section hidden">
            <h4>Pay Bills</h4>
            <form id="payBillsForm">
                <div class="form-group">
                    <label for="payee">Payee:</label>
                    <input type="text" class="form-control" id="payee" placeholder="Enter payee name" required>
                </div>
                <div class="form-group">
                    <label for="billAmount">Amount:</label>
                    <input type="number" class="form-control" id="billAmount" placeholder="Enter amount" min="1"
                        required>
                </div>
                <button type="submit" class="btn btn-primary">Pay Bill</button>
            </form>
            <div id="payBillsAlert" class="alert hidden"></div>
        </div>

        <!-- Deposit Tab -->
        <div id="deposit" class="tab-content-section hidden">
            <h4>Deposit Funds</h4>
            <form id="depositForm">
                <div class="form-group">
                    <label for="depositAmount">Amount:</label>
                    <input type="number" class="form-control" id="depositAmount" placeholder="Enter amount" min="1"
                        required>
                </div>
                <button type="submit" class="btn btn-primary">Deposit</button>
            </form>
            <div id="depositAlert" class="alert hidden"></div>
        </div>

        <!-- Withdraw Tab -->
        <div id="withdraw" class="tab-content-section hidden">
            <h4>Withdraw Funds</h4>
            <form id="withdrawForm">
                <div class="form-group">
                    <label for="withdrawType">Withdrawal Type:</label>
                    <select class="form-control" id="withdrawType" required>
                        <option value="">Select withdrawal type</option>
                        <option value="ATM">ATM</option>
                        <option value="In-Branch">In-Branch</option>
                        <option value="Online Transfer">Online Transfer</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="withdrawAmount">Amount:</label>
                    <input type="number" class="form-control" id="withdrawAmount" placeholder="Enter amount" min="1"
                        required>
                </div>
                <div class="form-group">
                    <label for="withdrawMemo">Memo (Optional):</label>
                    <input type="text" class="form-control" id="withdrawMemo" placeholder="Enter memo or description">
                </div>
                <button type="submit" class="btn btn-primary">Withdraw</button>
            </form>
            <div id="withdrawAlert" class="alert hidden"></div>
        </div>

        <!-- Me Tab -->
        <div id="me" class="tab-content-section hidden">
            <h4>Profile Information</h4>
            <p><strong>Name:</strong> <span id="profileName"></span></p>
            <p><strong>Email:</strong> <span id="profileEmail"></span></p>
            <p><strong>Phone:</strong> <span id="profilePhone">(754) 295-7331</span></p>
            <p><strong>Address:</strong> <span id="profileAddress">Im at Wilton Manor
                    2675 N Andrews Ave
                    Ft Lauderdale FL 33311 Room 11B</span></p>
            <button class="btn btn-secondary" id="editProfile">Edit Profile</button>
        </div>

        <!-- Statements Tab -->
        <div id="statements" class="tab-content-section hidden">
            <h4>Statements</h4>
            <p>View your monthly statements here.</p>
            <ul>
                <li><a href="#">September 2025 Statement</a></li>
            </ul>
        </div>

        <!-- Spending Analysis Tab -->
        <div id="spending" class="tab-content-section hidden">
            <h4>Spending Analysis</h4>
            <p>No spending history available. This is a new account with no transactions other than the initial deposit.
            </p>
        </div>

        <!-- Alerts Tab -->
        <div id="alerts" class="tab-content-section hidden">
            <h4>Alerts</h4>
            <ul id="alertsList">
                <li>Initial deposit of $5,000.00 not yet met. Additional $1,500.00 required.</li>
            </ul>
        </div>

        <!-- Security Tab -->
        <div id="security" class="tab-content-section hidden">
            <h4>Security Settings</h4>
            <p>Manage your security preferences.</p>
            <button class="btn btn-warning">Change Password</button>
            <button class="btn btn-warning mt-2">Enable 2FA</button>
        </div>

        <button id="logoutButton" class="btn logout-button">Logout</button>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Initial data
        let accountData = {
            availableBalance: 3500.00,
            currentBalance: 3500.00,
            initialDepositRequired: 5000.00,
            depositMade: 3500.00,
            pendingTransactions: [{ amount: 520000.00, description: 'Large Transfer', date: new Date().toLocaleDateString() }],
            transactions: [
                { date: 'Sep 11, 2025', description: 'Deposit', amount: 3500.00, type: 'credit' }
            ]
        };

        // Load from localStorage if available
        if (localStorage.getItem('accountData')) {
            accountData = JSON.parse(localStorage.getItem('accountData'));
        }

        // Function to save data
        function saveData() {
            localStorage.setItem('accountData', JSON.stringify(accountData));
        }

        // Function to update balances
        function updateBalances() {
            document.getElementById('availableBalance').textContent = `$${accountData.availableBalance.toLocaleString('en-US', { minimumFractionDigits: 2 })}`;
            document.getElementById('currentBalance').textContent = `$${accountData.currentBalance.toLocaleString('en-US', { minimumFractionDigits: 2 })}`;
        }

        // Function to render transactions
        function renderTransactions() {
            const tbody = document.querySelector('#transactionsTable tbody');
            tbody.innerHTML = '';
            accountData.transactions.forEach(tx => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${tx.date}</td>
                    <td>${tx.description}</td>
                    <td style="color: ${tx.type === 'credit' ? 'green' : 'red'};">${tx.type === 'credit' ? '+' : ''}$${Math.abs(tx.amount).toLocaleString('en-US', { minimumFractionDigits: 2 })}</td>
                `;
                tbody.appendChild(row);
            });
        }

        // Tab switching
        document.querySelectorAll('.nav-link').forEach(tab => {
            tab.addEventListener('click', function (e) {
                e.preventDefault();
                const targetTab = this.getAttribute('data-tab');
                document.querySelectorAll('.tab-content-section').forEach(section => {
                    section.classList.add('hidden');
                });
                document.getElementById(targetTab).classList.remove('hidden');

                // Remove active class from all tabs
                document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Transfer form submission
        document.getElementById('transferForm').addEventListener('submit', function (e) {
            e.preventDefault();
            if (accountData.depositMade < accountData.initialDepositRequired) {
                showAlert('transferAlert', 'danger', 'If the initial deposit of $5000 has not been made, you cannot complete your transfer.');
                return;
            }
            const amount = parseFloat(document.getElementById('transferAmount').value);
            if (amount > accountData.availableBalance) {
                showAlert('transferAlert', 'danger', 'Insufficient funds.');
                return;
            }
            const recipientName = document.getElementById('recipientName').value;
            const bankName = document.getElementById('bankName').value;
            const routingNumber = document.getElementById('routingNumber').value;
            const accountNumber = document.getElementById('accountNumber').value;
            const accountType = document.getElementById('accountType').value;
            const memo = document.getElementById('memo').value;
            accountData.availableBalance -= amount;
            accountData.currentBalance -= amount;
            accountData.transactions.unshift({
                date: new Date().toLocaleDateString(),
                description: `Transfer to ${recipientName} at ${bankName} (${accountType}) - Memo: ${memo || 'None'}`,
                amount: -amount,
                type: 'debit'
            });
            updateBalances();
            renderTransactions();
            saveData();
            showAlert('transferAlert', 'success', `Transferred $${amount.toFixed(2)} successfully.`);
            this.reset();
        });

        // Pay Bills form submission
        document.getElementById('payBillsForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const amount = parseFloat(document.getElementById('billAmount').value);
            if (amount > accountData.availableBalance) {
                showAlert('payBillsAlert', 'danger', 'Insufficient funds.');
                return;
            }
            accountData.availableBalance -= amount;
            accountData.currentBalance -= amount;
            accountData.transactions.unshift({
                date: new Date().toLocaleDateString(),
                description: `Bill payment to ${document.getElementById('payee').value}`,
                amount: -amount,
                type: 'debit'
            });
            updateBalances();
            renderTransactions();
            saveData();
            showAlert('payBillsAlert', 'success', `Paid $${amount.toFixed(2)} successfully.`);
            this.reset();
        });

        // Deposit form submission (disabled)
        document.getElementById('depositForm').addEventListener('submit', function (e) {
            e.preventDefault();
            showAlert('depositAlert', 'danger', 'Deposit cannot be made at this time.');
            this.reset();
        });

        // Withdraw form submission (disabled)
        document.getElementById('withdrawForm').addEventListener('submit', function (e) {
            e.preventDefault();
            showAlert('withdrawAlert', 'danger', 'Withdrawals are currently unavailable.');
            this.reset();
        });

        // Show alert
        function showAlert(id, type, message) {
            const alert = document.getElementById(id);
            alert.classList.remove('hidden', 'alert-success', 'alert-danger');
            alert.classList.add(`alert-${type}`);
            alert.textContent = message;
            setTimeout(() => alert.classList.add('hidden'), 5000);
        }

        // Spending Chart (removed, no history)
        function initSpendingChart() {
            // No chart initialization since no spending history
        }

        // Update date and time (United States EDT)
        function updateDateTime() {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', timeZoneName: 'short', hour12: true };
            document.getElementById('currentDateTime').textContent = now.toLocaleString('en-US', options).replace('EDT', 'EDT');
        }

        // Logout with confirmation
        document.getElementById('logoutButton').addEventListener('click', function () {
            if (confirm('Are you sure you want to logout?')) {
                localStorage.setItem('isLoggedin', 'false');
                localStorage.removeItem('currentUserName');
                window.location.href = 'index.html';
            }
        });

        // Edit Profile (placeholder)
        document.getElementById('editProfile').addEventListener('click', function () {
            alert('Profile editing feature coming soon!');
        });

        // Check login status and set user name
        window.onload = function () {
            const isLoggedIn = localStorage.getItem('isLoggedin');
            if (isLoggedIn !== 'true') {
                window.location.href = 'index.html';
            } else {
                const storedUserData = JSON.parse(localStorage.getItem('userData'));
                const userName = localStorage.getItem('currentUserName') || storedUserData.name || 'User';
                document.getElementById('userName').textContent = userName;
                document.getElementById('profileName').textContent = userName;
                document.getElementById('profileEmail').textContent = storedUserData.email;
                updateBalances();
                renderTransactions();
                initSpendingChart();
                updateDateTime();
                setInterval(updateDateTime, 1000); // Update every second
            }
        };

        // Auto-logout after 10 minutes of inactivity
        let inactivityTimer;
        function resetInactivityTimer() {
            clearTimeout(inactivityTimer);
            inactivityTimer = setTimeout(() => {
                alert('Session timed out due to inactivity.');
                localStorage.setItem('isLoggedin', 'false');
                localStorage.removeItem('currentUserName');
                window.location.href = 'index.html';
            }, 600000);
        }
        document.addEventListener('mousemove', resetInactivityTimer);
        document.addEventListener('keydown', resetInactivityTimer);
        resetInactivityTimer();
    </script>
</body>

</html>
